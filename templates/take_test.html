<!--IMPORTANT NOTES:
    -> For any field in the form to be sent back to the server, it MUST HAVE A NAME. (Id alone won't work).

-->

<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIQA - Test</title>
    <link href="{{url_for('static', filename='stylesheets/style.css')}}" rel="stylesheet" type="text/css">
    <link rel="icon" type="image/x-icon" href="{{url_for('static', filename='icons/favicon.ico')}}">
    <script src="{{url_for('static', filename='scripts/take_test.js')}}"></script>

</head>


<body >
    <h1 class="blue">Live image quality assessment session </h1>
    <article id="live-session-description">
        <h2>Description</h2>
        <p>
            Welcome !
            <br>
            In this form you're asked to rate the quality of thirty images, in a range from 0 to 5 (0 stands for bad quality, 5 for excellent quality), by your personal opinion.   
            <br><br>
            You can find three different kinds of images: original, impaired1 and impaired2.
            <br>
            The impaired images are obtained starting from the original one and applying a degradation algorithm, with a different impairment parameter value for both impaired1 
            <br>and impaired2 set of images.
            Degradation on impaired1 images should be less visually noticeable than the one on the impaired2 images. 
            <br><br>
            Some easy rules you are pleased to follow:
            <br>
            - Watch images under the same condition (brightness, artificial lighting, screen contrast);
            <br>
            - Keep constant the viewing distance; <br>
            - Give an evaluation for each image in a maximum time of 15 seconds; <br>
            - Wear the contact lenses or prescription glasses, if you have an eye impairment; <br>
            - Please do not cheat (for example moving from a section to previous one, after giving your opinion score; <br> 
            open this form with multiple accounts, if the person to give the opinion is always you), this will make <br>
            the final evaluation results incorrect.
            <br><br>
            All your answers (Opinion Scores, OS) will be used, with the one generated by other people, to perform the MOS (Mean Opinion Score) on every single image 
            <br> and the overall MOS of the two different impairments.
            <br><br>
            <!-- We'll do this or not?-->
            Furthermore, you have to login with your personal account in order to avoid that the same account responds multiple times to this form.
            <br><br>
            It won't take long, less than 10 minutes of time.
            <br><br>
            Hope you'll enjoy this evaluation session.
            <br><br>
        </p>
        <h2>Your data</h2>
    </article>
    <form id="rating_form" name="rating_form" action="/done_take_test" method="POST">

        <!--for the user to input their email address before taking the test-->
        <div id="email_section">
            <p>Email address:</p>
            <input name="email_input" id="email_input" type="email" placeholder=""></input>        
            <!--TODO: request more user info? Expertise, Age, Gender...?-->
        </div>


        <!--create as many hidden pictures as the paths passed to this template-->
        <div id="images_div">
            {% for pic in pictures%}
                <h2 hidden id="title_{{loop.index}}">Image number: {{loop.index}}</h2>
                <br>
                <img hidden id="{{loop.index}}" src={{pic}} alt="" height="400" />
            {% endfor %}
        </div>


        <!--create the input part of this form, 5 scores from 1 to 5-->
        <div id="radio_buttons_section" hidden display="none">
            
            <h3>Give this image a rating from 1 to 5:</h3>
            {% for i in range(1, 6) %}
            <label for="{{i}}">{{i}}</label>
            <input type="radio" id={{i}} name="rating_score">
            {% endfor %}
            <br>
            <label id="chosen_rating" for="rating_score"></label>

            </div>
        <br>

        <!--this button displays the next image-->
        <button id="button_next" class="button" type="button" onclick="onNextPressed()">Next</button>
        <!--this button sends the form to the server.-->
        <a href="/done_take_test"><button id="button_submit" class="button" type="submit"  >Done</button></a>


        <!--store hidden key-value paris for: (image, rating).-->
        {% for pic in pictures%}
        <input type="hidden" id={{pic}} name={{pic}} value=""></input>
        {% endfor%}


    </form>



</body>

</html>